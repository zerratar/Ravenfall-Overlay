<!DOCTYPE html>
<html>

<head>
    <title>Viewer Page</title>
    <link rel="stylesheet" href="video_overlay.css">
</head>

<body style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">
    <script src="https://extension-files.twitch.tv/helper/v1/twitch-ext.min.js"></script>
    <script src="jquery-3.3.1.min.js"></script>


    <div id="app" class="full-height">

        <div class="extension-toggle" id="extension-toggle">
            <img src="imgs/ravenfall_logo_tiny.png" />
        </div>

        <div class="extension hidden">
            <div class="extension-bg"></div>
            <div class="top-bar">
                <div class="btn btn-toggle-dark-mode">
                    &blk34;
                </div>
                <img class="header" src="imgs/ravenfall_logo2.png"></img>
                <div class="btn btn-close-panel">
                    &times;
                </div>
            </div>

            <div class="views">

                <div class="view active" data-name="NONE">
                    <h2>Loading...</h2>
                    <p style="text-align: center;">Our ravens are checking if Ravenfall is ready to be played.</p>
                </div>

                <div class="view" data-name="BAD_SERVER_CONNECTION">
                    <img src="imgs/sad-raven.png" class="no-connection" />
                    <h2>Unable to connect to the game server.</h2>
                    <p style="text-align: center;">We are retrying every couple of seconds. The server should be back online soon!</p>
                </div>

                <div class="view" data-name="GAME_NOT_RUNNING">
                    <h2>The streamer is not playing Ravenfall</h2>
                </div>

                <div class="view" data-name="ANONYMOUS_USER">
                    <h2>This extension requires your permissions to identify who you are. If no, it is impossible for Ravenfall to know which characters are yours.</h2>
                </div>

                <div class="view" data-name="NO_USER_ACCOUNT">
                    <h2>You don't seem to have any characters.<br/>First time playing?</h2>                    
                    <a class="btn btn-create-account">Click here or type !join in chat</a>
                </div>

                <div class="view" data-name="ALL_AUTH_OK">
                    <h2>Thumbsup</h2>
                </div>

                <div class="view" data-name="CHARACTER_SELECTION">
                    <h2>Select character you want to play with</h2>
                    <div class="character-list">

                    </div>
                </div>

                <div class="view" data-name="JOINING_GAME">
                    <h2>Joining game...</h2>
                </div>

                <div class="view" data-name="GAME_JOIN_FAILED">
                    <h2>Oh no...</h2>
                    <p style="text-align: center;">There seem to have been an issue when trying to join the game. Please try again later</p>
                </div>


                <div class="view" data-name="PLAYING">

                    <div class="character-stats">

                        <div class="character-stat btn-{SkillName} {trainable}" title="">
                            <div class="stats-identifier">
                                <div class="stats-name">{SkillName}</div>
                                <div class="stats-level">{SkillLevel}</div>
                            </div>
                            <div class="stats-progress">
                                <div class="stats-progress-background"></div>
                                <div class="stats-progress-value" data-exp="{SkillExperience}"></div>
                            </div>
                        </div>

                    </div>

                    <div class="btn btn-leave-game">Leave</div>
                </div>

                <div class="debug-info">
                </div>

                <div class="footer"></div>
            </div>
        </div>
    </div>

    <svg height="0" xmlns="http://www.w3.org/2000/svg">
        <filter id="drop-shadow">
            <feGaussianBlur in="SourceAlpha" stdDeviation="4" />
            <feOffset dx="3" dy="4" result="offsetblur" />
            <feFlood flood-color="rgba(0,0,0,0.25)" />
            <feComposite in2="offsetblur" operator="in" />
            <feMerge>
                <feMergeNode />
                <feMergeNode in="SourceGraphic" />
            </feMerge>
        </filter>
    </svg>
    <script src="modules/states.js"></script>
    <script src="modules/drag-and-drop.js"></script>
    <script src="viewer.js" type="module"></script>
</body>

</html>